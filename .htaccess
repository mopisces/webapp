Options -Indexes
RewriteEngine On

<IfModule mod_rewrite.c>
  Options +FollowSymlinks
  RewriteEngine On

  RewriteCond %{REQUEST_URI} ^(.*)$
  RewriteRule ^/index\.html$ - [L,NC]

  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ index.html [L]
  RewriteRule \.php$ - [F]

  # 禁止查询字符串中带 PHP 参数
  RewriteCond %{QUERY_STRING} ^.*php.*$ [NC]
  RewriteRule ^(.*)$ - [F,L]
</IfModule>
<IfModule mod_headers.c>
	# 禁用 index.html 缓存
  <Files "index.html">
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires "0"
  </Files>

  # 静态资源长期缓存（利用 Vue 的文件名哈希）
  <FilesMatch "\.(ico|jpg|jpeg|png|gif|js|css|woff|woff2|ttf|eot|svg)$">
      Header set Cache-Control "public, max-age=31536000"
      Header unset Pragma
      Header unset Expires
  </FilesMatch>

  # 其他文件（如 XML、TXT）禁用缓存（根据需求调整）
  <FilesMatch "\.(xml|txt)$">
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires "0"
  </FilesMatch>

	<FilesMatch "\.(css|js|html|htm|php|shtml)$">
		Header set Cache-Control "no-cache, no-store"
		Header set Pragma "no-cache"
    Header set Expires "-1"
	</FilesMatch>
</IfModule>